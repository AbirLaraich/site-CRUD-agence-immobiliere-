<!DOCTYPE html>
<html>
<head>
  <title>Modifier une annonce</title>
  <link rel="stylesheet" href="/css/formAnnonce.css">
</head>
<body>
  <div class="container">
    <h1>Modifier une annonce</h1>
    <form action="/annonce/api/<%= annonce._id %>?_method=PUT" method="POST" class="form-container">
      <label for="titre">Titre :</label>
      <input type="text" id="titre" name="titre" value="<%= annonce.titre %>" required />

      <label for="description">Description :</label>
      <textarea id="description" name="description" required><%= annonce.description %></textarea>

      <label for="prix">Prix :</label>
      <input type="number" id="prix" name="prix" value="<%= annonce.prix %>" required />

      <label for="dateDisponibilite">Date de disponibilité :</label>
      <input type="date" id="dateDisponibilite" name="dateDisponibilite" value="<%= annonce.dateDisponibilite.toISOString().slice(0, 10) %>" required />

      <label for="typeBien">Type de bien :</label>
      <select id="typeBien" name="typeBien" required>
        <option value="vente" <%= annonce.typeBien === "vente" ? "selected" : "" %>>Vente</option>
        <option value="location" <%= annonce.typeBien === "location" ? "selected" : "" %>>Location</option>
      </select>

      <label for="statutPublication">Statut de publication :</label>
      <select id="statutPublication" name="statutPublication" required>
        <option value="publiée" <%= annonce.statutPublication === "publiée" ? "selected" : "" %>>Publiée</option>
        <option value="non publiée" <%= annonce.statutPublication === "non publiée" ? "selected" : "" %>>Non publiée</option>
      </select>

      <label for="statutBien">Statut du bien :</label>
      <select id="statutBien" name="statutBien" required>
        <option value="disponible" <%= annonce.statutBien === "disponible" ? "selected" : "" %>>Disponible</option>
        <option value="loué" <%= annonce.statutBien === "loué" ? "selected" : "" %>>Loué</option>
        <option value="vendu" <%= annonce.statutBien === "vendu" ? "selected" : "" %>>Vendu</option>
      </select>

      <input type="submit" value="Mettre à jour" class="btn" />
    </form>
    <a href="/annonce" class="btn btn-secondary">Retour à la liste</a>
  </div>
</body>
</html>
